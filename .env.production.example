# =============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env.production and fill in your actual values.
# NEVER commit .env.production to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase (Postgres + pgvector)
# Get these from: https://supabase.com/dashboard → Project Settings → Database
# -----------------------------------------------------------------------------
# Pooler connection (port 6543) for app runtime — used by SQLAlchemy async engine
DATABASE_URL=postgresql+asyncpg://postgres.[YOUR-PROJECT-REF]:[YOUR-PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres
DATABASE_URL_SYNC=postgresql://postgres.[YOUR-PROJECT-REF]:[YOUR-PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres

# Direct connection (port 5432) for Alembic migrations — bypasses PgBouncer
DATABASE_URL_DIRECT=postgresql+asyncpg://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres
DATABASE_URL_DIRECT_SYNC=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres

# Supabase project credentials
SUPABASE_URL=https://[YOUR-PROJECT-REF].supabase.co
SUPABASE_PUBLISHABLE_KEY=your-publishable-key-here

# -----------------------------------------------------------------------------
# Upstash Redis (Serverless Redis)
# Get these from: https://console.upstash.com → Your Database → REST API
# -----------------------------------------------------------------------------
# Use the redis:// connection string from Upstash console
REDIS_URL=redis://default:[YOUR-UPSTASH-PASSWORD]@[YOUR-ENDPOINT].upstash.io:6379/0
CELERY_BROKER_URL=redis://default:[YOUR-UPSTASH-PASSWORD]@[YOUR-ENDPOINT].upstash.io:6379/1
CELERY_RESULT_BACKEND=redis://default:[YOUR-UPSTASH-PASSWORD]@[YOUR-ENDPOINT].upstash.io:6379/2

# -----------------------------------------------------------------------------
# JWT & Security
# Generate a strong secret: python -c "import secrets; print(secrets.token_urlsafe(64))"
# -----------------------------------------------------------------------------
JWT_SECRET_KEY=GENERATE-A-STRONG-SECRET-KEY-HERE
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# Encryption (Fernet key for credential storage)
# Generate: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# -----------------------------------------------------------------------------
ENCRYPTION_KEY=GENERATE-A-FERNET-KEY-HERE
ENCRYPTION_KEY_VERSION=1

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
APP_ENV=production
APP_DEBUG=false
APP_NAME=NetSuite Ecommerce Ops Suite

# CORS: your Vercel frontend URL(s), comma-separated
CORS_ORIGINS=https://your-app.vercel.app

# -----------------------------------------------------------------------------
# MCP Server (optional in production - disable if not needed)
# -----------------------------------------------------------------------------
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_PORT=8001
MCP_RATE_LIMIT_PER_MINUTE=60
